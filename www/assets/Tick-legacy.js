System.register(["./index-legacy.js","./Theme-legacy.js"],(function(e,t){"use strict";var s,i,a,l,r,n,o,h,u,d,c,m,p,f,b,g;return{setters:[e=>{s=e.ee},e=>{i=e.i,a=e.b,l=e.az,r=e.w,n=e.N,o=e.aA,h=e.r,u=e.aB,d=e.C,c=e.a3,m=e.ad,p=e.aC,f=e.al,b=e.aD,g=e.a0}],execute:function(){e({I:function e(t,s,i,a,l,r,n){if(!n||l){let n=0;switch(l||"millisecond"==s||(n=t.getTimezoneOffset(),t.setUTCMinutes(t.getUTCMinutes()-n)),s){case"day":let s=t.getUTCDate();if(i>1){if(r){r=e(r,"day",1);let s=t.getTime()-r.getTime(),a=Math.floor(s/w("day")/i),l=w("day",a*i);t.setTime(r.getTime()+l-n*w("minute"))}}else t.setUTCDate(s);t.setUTCHours(0,0,0,0);break;case"second":let l=t.getUTCSeconds();i>1&&(l=Math.floor(l/i)*i),t.setUTCSeconds(l,0);break;case"millisecond":if(1==i)return t;let o=t.getUTCMilliseconds();o=Math.floor(o/i)*i,t.setUTCMilliseconds(o);break;case"hour":let h=t.getUTCHours();i>1&&(h=Math.floor(h/i)*i),t.setUTCHours(h,0,0,0);break;case"minute":let u=t.getUTCMinutes();i>1&&(u=Math.floor(u/i)*i),t.setUTCMinutes(u,0,0);break;case"month":let c=t.getUTCMonth();i>1&&(c=Math.floor(c/i)*i),t.setUTCMonth(c,1),t.setUTCHours(0,0,0,0);break;case"year":let m=t.getUTCFullYear();i>1&&(m=Math.floor(m/i)*i),t.setUTCFullYear(m,0,1),t.setUTCHours(0,0,0,0);break;case"week":let p=t.getUTCDate(),f=t.getUTCDay();d(a)||(a=1),p=f>=a?p-f+a:p-(7+f)+a,t.setUTCDate(p),t.setUTCHours(0,0,0,0)}if(!l&&"millisecond"!=s&&(t.setUTCMinutes(t.getUTCMinutes()+n),"day"==s||"week"==s||"month"==s||"year"==s)){let e=t.getTimezoneOffset();if(e!=n){let s=e-n;t.setUTCMinutes(t.getUTCMinutes()+s)}}return t}{if(isNaN(t.getTime()))return t;let o=n.offsetUTC(t),h=t.getTimezoneOffset(),u=n.parseDate(t),c=u.year,m=u.month,p=u.day,f=u.hour,b=u.minute,g=u.second,_=u.millisecond,v=u.weekday,y=o-h;switch(s){case"day":if(i>1&&r){r=e(r,"day",1,a,l,void 0,n);let s=t.getTime()-r.getTime(),o=Math.floor(s/w("day")/i),h=w("day",o*i);t.setTime(r.getTime()+h),u=n.parseDate(t),c=u.year,m=u.month,p=u.day}f=0,b=y,g=0,_=0;break;case"second":b+=y,i>1&&(g=Math.floor(g/i)*i),_=0;break;case"millisecond":b+=y,i>1&&(_=Math.floor(_/i)*i);break;case"hour":i>1&&(f=Math.floor(f/i)*i),b=y,g=0,_=0;break;case"minute":i>1&&(b=Math.floor(b/i)*i),b+=y,g=0,_=0;break;case"month":i>1&&(m=Math.floor(m/i)*i),p=1,f=0,b=y,g=0,_=0;break;case"year":i>1&&(c=Math.floor(c/i)*i),m=0,p=1,f=0,b=y,g=0,_=0;break;case"week":d(a)||(a=1),p=v>=a?p-v+a:p-(7+v)+a,f=0,b=y,g=0,_=0}let I=(t=new Date(c,m,p,f,b,g,_)).getTimezoneOffset(),D=n.offsetUTC(t)-I;return D!=y&&t.setTime(t.getTime()+6e4*(D-y)),t}},V:function(e){let t=3;return e.digits=function(s){if(!arguments.length)return t;if(null==s)t=null;else{const e=Math.floor(s);if(!(e>=0))throw new RangeError(`invalid digits: ${s}`);t=e}return e},()=>new $(t)},k:function(e){return function(){return e}}});class t extends o{constructor(){super(...arguments),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}incrementRef(){}decrementRef(){}_onPush(e){this.processor&&this.processor.processRow(e),super._onPush(e)}_onInsertIndex(e,t){this.processor&&this.processor.processRow(t),super._onInsertIndex(e,t)}_onSetIndex(e,t,s){this.processor&&this.processor.processRow(s),super._onSetIndex(e,t,s)}}class _ extends l{constructor(e,t,s){super(s),Object.defineProperty(this,"component",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dataContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"open",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"close",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.dataContext=t,this.component=e,this._settings.visible=!0,this._checkDirty()}markDirty(){this.component.markDirtyValues(this)}_startAnimation(){this.component._root._addAnimation(this)}_animationTime(){return this.component._root.animationTime}_dispose(){this.component&&this.component.disposeDataItem(this),super._dispose()}show(e){this.setRaw("visible",!0),this.component&&this.component.showDataItem(this,e)}hide(e){this.setRaw("visible",!1),this.component&&this.component.hideDataItem(this,e)}isHidden(){return!this.get("visible")}}e("g",_);class v extends i{constructor(){super(...arguments),Object.defineProperty(this,"_data",{enumerable:!0,configurable:!0,writable:!0,value:new t}),Object.defineProperty(this,"_dataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mainDataItems",{enumerable:!0,configurable:!0,writable:!0,value:this._dataItems}),Object.defineProperty(this,"valueFields",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"fields",{enumerable:!0,configurable:!0,writable:!0,value:["id"]}),Object.defineProperty(this,"_valueFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueFieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataChanged",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inited",{enumerable:!0,configurable:!0,writable:!0,value:!1})}set data(e){e.incrementRef(),this._data.decrementRef(),this._data=e}get data(){return this._data}_dispose(){super._dispose(),this._data.decrementRef()}_onDataClear(){}_afterNew(){super._afterNew(),this._data.incrementRef(),this._updateFields(),this._disposers.push(this.data.events.onAll((e=>{const t=this._mainDataItems;if(this.markDirtyValues(),this._markDirtyGroup(),this._dataChanged=!0,"clear"===e.type)r(t,(e=>{e.dispose()})),t.length=0,this._onDataClear();else if("push"===e.type){const s=new _(this,e.newValue,this._makeDataItem(e.newValue));t.push(s),this.processDataItem(s)}else if("setIndex"===e.type){const s=t[e.index],i=this._makeDataItem(e.newValue);s.bullets&&0==s.bullets.length&&(s.bullets=void 0),n(i).forEach((e=>{s.animate({key:e,to:i[e],duration:this.get("interpolationDuration",0),easing:this.get("interpolationEasing")})})),s.dataContext=e.newValue}else if("insertIndex"===e.type){const s=new _(this,e.newValue,this._makeDataItem(e.newValue));t.splice(e.index,0,s),this.processDataItem(s)}else if("removeIndex"===e.type)t[e.index].dispose(),t.splice(e.index,1);else{if("moveIndex"!==e.type)throw new Error("Unknown IStreamEvent type");{const s=t[e.oldIndex];t.splice(e.oldIndex,1),t.splice(e.newIndex,0,s)}}this._afterDataChange()})))}_updateFields(){this.valueFields&&(this._valueFields=[],this._valueFieldsF={},r(this.valueFields,(e=>{this.get(e+"Field")&&(this._valueFields.push(e),this._valueFieldsF[e]={fieldKey:e+"Field",workingKey:e+"Working"})}))),this.fields&&(this._fields=[],this._fieldsF={},r(this.fields,(e=>{this.get(e+"Field")&&(this._fields.push(e),this._fieldsF[e]=e+"Field")})))}get dataItems(){return this._dataItems}processDataItem(e){}_makeDataItem(e){const t={};return this._valueFields&&r(this._valueFields,(s=>{const i=this.get(this._valueFieldsF[s].fieldKey);t[s]=e[i],t[this._valueFieldsF[s].workingKey]=t[s]})),this._fields&&r(this._fields,(s=>{const i=this.get(this._fieldsF[s]);t[s]=e[i]})),t}makeDataItem(e){let t=new _(this,void 0,e);return this.processDataItem(t),t}pushDataItem(e){const t=this.makeDataItem(e);return this._mainDataItems.push(t),t}disposeDataItem(e){}showDataItem(e,t){return s(this,void 0,void 0,(function*(){e.set("visible",!0)}))}hideDataItem(e,t){return s(this,void 0,void 0,(function*(){e.set("visible",!1)}))}_clearDirty(){super._clearDirty(),this._valuesDirty=!1}_afterDataChange(){}_afterChanged(){if(super._afterChanged(),this._dataChanged){const e="datavalidated";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this}),this._dataChanged=!1}this.inited=!0}markDirtyValues(e){this.markDirty(),this._valuesDirty=!0}_markDirtyGroup(){this._dataGrouped=!1}markDirtySize(){this._sizeDirty=!0,this.markDirty()}}e("_",v),Object.defineProperty(v,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Component"}),Object.defineProperty(v,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:i.classNames.concat([v.className])});let y={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2629742400,year:31536e6};function w(e,t){return null==t&&(t=1),y[e]*t}class I extends v{constructor(){super(...arguments),Object.defineProperty(this,"_aggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_selectionAggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_psi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pei",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:new o}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:i.new(this._root,{width:h,height:h,position:"absolute"})})}_afterNew(){this.valueFields.push("value","customValue"),super._afterNew(),this.setPrivate("customData",{}),this._disposers.push(this.bullets.events.onAll((e=>{if("clear"===e.type)this._handleBullets(this.dataItems);else if("push"===e.type)this._handleBullets(this.dataItems);else if("setIndex"===e.type)this._handleBullets(this.dataItems);else if("insertIndex"===e.type)this._handleBullets(this.dataItems);else if("removeIndex"===e.type)this._handleBullets(this.dataItems);else{if("moveIndex"!==e.type)throw new Error("Unknown IListEvent type");this._handleBullets(this.dataItems)}})))}_dispose(){this.bulletsContainer.dispose(),super._dispose()}startIndex(){let e=this.dataItems.length;return Math.min(this.getPrivate("startIndex",0),e)}endIndex(){let e=this.dataItems.length;return Math.min(this.getPrivate("endIndex",e),e)}_handleBullets(e){r(e,(e=>{const t=e.bullets;t&&(r(t,(e=>{e.dispose()})),e.bullets=void 0)})),this.markDirtyValues()}getDataItemById(e){return u(this.dataItems,(t=>t.get("id")==e))}_makeBullets(e){this._shouldMakeBullet(e)&&(e.bullets=[],this.bullets.each((t=>{this._makeBullet(e,t)})))}_shouldMakeBullet(e){return!0}_makeBullet(e,t,s){const i=t(this._root,this,e);return i&&(i._index=s,this._makeBulletReal(e,i)),i}_makeBulletReal(e,t){let s=t.get("sprite");s&&(s._setDataItem(e),s.setRaw("position","absolute"),this.bulletsContainer.children.push(s)),t.series=this,e.bullets.push(t)}addBullet(e,t){e.bullets||(e.bullets=[]),t&&this._makeBulletReal(e,t)}_clearDirty(){super._clearDirty(),this._aggregatesCalculated=!1,this._selectionAggregatesCalculated=!1}_prepareChildren(){super._prepareChildren();let e=this.startIndex(),t=this.endIndex();if(this.isDirty("name")&&this.updateLegendValue(),this.isDirty("heatRules")&&(this._valuesDirty=!0),this.isPrivateDirty("baseValueSeries")){const e=this.getPrivate("baseValueSeries");e&&this._disposers.push(e.onPrivate("startIndex",(()=>{this.markDirtyValues()})))}if(this.get("calculateAggregates")&&(this._valuesDirty&&!this._dataProcessed&&(this._aggregatesCalculated||(this._calculateAggregates(0,this.dataItems.length),this._aggregatesCalculated=!0,0!=e&&(this._psi=void 0))),this._psi==e&&this._pei==t&&!this.isPrivateDirty("adjustedStartIndex")||this._selectionAggregatesCalculated||(0===e&&t===this.dataItems.length&&this._aggregatesCalculated||this._calculateAggregates(e,t),this._selectionAggregatesCalculated=!0)),this.isDirty("tooltip")){let e=this.get("tooltip");e&&(e.hide(0),e.set("tooltipTarget",this))}if(this.isDirty("fill")||this.isDirty("stroke")){let e;const t=this.get("legendDataItem");if(t&&(e=t.get("markerRectangle"),e&&this.isVisible())){if(this.isDirty("stroke")){let t=this.get("stroke");e.set("stroke",t)}if(this.isDirty("fill")){let t=this.get("fill");e.set("fill",t)}}this.updateLegendMarker(void 0)}if(this.bullets.length>0){let e=this.startIndex(),t=this.endIndex();t<this.dataItems.length&&t++;for(let s=e;s<t;s++){let e=this.dataItems[s];e.bullets||this._makeBullets(e)}}}_adjustStartIndex(e){return e}_calculateAggregates(e,t){let s=this._valueFields;if(!s)throw new Error("No value fields are set for the series.");const i={},a={},l={},n={},o={},h={},u={},d={},c={};r(s,(e=>{i[e]=0,a[e]=0,l[e]=0})),r(s,(s=>{let r=s+"Change",m=s+"ChangePercent",p=s+"ChangePrevious",f=s+"ChangePreviousPercent",b=s+"ChangeSelection",g=s+"ChangeSelectionPercent",_="valueY";"valueX"!=s&&"openValueX"!=s&&"lowValueX"!=s&&"highValueX"!=s||(_="valueX");const v=this.getPrivate("baseValueSeries"),y=this.getPrivate("adjustedStartIndex",e);for(let w=y;w<t;w++){const t=this.dataItems[w];let y=t.get(s);null!=y&&(l[s]++,i[s]+=y,a[s]+=Math.abs(y),d[s]=i[s]/l[s],(n[s]>y||null==n[s])&&(n[s]=y),(o[s]<y||null==o[s])&&(o[s]=y),u[s]=y,null==h[s]&&(h[s]=y,c[s]=y,v&&(h[_]=v._getBase(_))),0===e&&(t.setRaw(r,y-h[_]),t.setRaw(m,(y-h[_])/h[_]*100)),t.setRaw(p,y-c[_]),t.setRaw(f,(y-c[_])/c[_]*100),t.setRaw(b,y-h[_]),t.setRaw(g,(y-h[_])/h[_]*100),c[s]=y)}if(t<this.dataItems.length-1){const e=this.dataItems[t];let i=e.get(s);e.setRaw(p,i-c[_]),e.setRaw(f,(i-c[_])/c[_]*100),e.setRaw(b,i-h[_]),e.setRaw(g,(i-h[_])/h[_]*100)}e>0&&e--,delete c[s];for(let t=e;t<y;t++){const e=this.dataItems[t];let i=e.get(s);null==c[s]&&(c[s]=i),null!=i&&(e.setRaw(p,i-c[_]),e.setRaw(f,(i-c[_])/c[_]*100),e.setRaw(b,i-h[_]),e.setRaw(g,(i-h[_])/h[_]*100),c[s]=i)}})),r(s,(e=>{this.setPrivate(e+"AverageSelection",d[e]),this.setPrivate(e+"CountSelection",l[e]),this.setPrivate(e+"SumSelection",i[e]),this.setPrivate(e+"AbsoluteSumSelection",a[e]),this.setPrivate(e+"LowSelection",n[e]),this.setPrivate(e+"HighSelection",o[e]),this.setPrivate(e+"OpenSelection",h[e]),this.setPrivate(e+"CloseSelection",u[e])})),0===e&&t===this.dataItems.length&&r(s,(e=>{this.setPrivate(e+"Average",d[e]),this.setPrivate(e+"Count",l[e]),this.setPrivate(e+"Sum",i[e]),this.setPrivate(e+"AbsoluteSum",a[e]),this.setPrivate(e+"Low",n[e]),this.setPrivate(e+"High",o[e]),this.setPrivate(e+"Open",h[e]),this.setPrivate(e+"Close",u[e])}))}_updateChildren(){super._updateChildren(),this._psi=this.startIndex(),this._pei=this.endIndex(),this.isDirty("visible")&&this.bulletsContainer.set("visible",this.get("visible"));const e=this.get("heatRules");if(this._valuesDirty&&e&&e.length>0&&r(e,(e=>{const t=e.minValue||this.getPrivate(e.dataField+"Low")||0,s=e.maxValue||this.getPrivate(e.dataField+"High")||0;r(e.target._entities,(i=>{const a=i.dataItem.get(e.dataField);if(d(a))if(e.customFunction)e.customFunction.call(this,i,t,s,a);else{let l,r;l=e.logarithmic?(Math.log(a)*Math.LOG10E-Math.log(t)*Math.LOG10E)/(Math.log(s)*Math.LOG10E-Math.log(t)*Math.LOG10E):(a-t)/(s-t),!d(a)||d(l)&&Math.abs(l)!=1/0||(l=.5),d(e.min)?r=e.min+(e.max-e.min)*l:e.min instanceof c?r=c.interpolate(l,e.min,e.max):e.min instanceof m&&(r=p(l,e.min,e.max)),i.set(e.key,r);const n=i.states;if(n){const t=n.lookup("default");t&&t.set(e.key,r)}}else{e.neutral&&i.set(e.key,e.neutral);const t=i.states;if(t){const s=t.lookup("default");s&&s.set(e.key,e.neutral)}}}))})),this.get("visible")){let e=this.dataItems.length,t=this.startIndex(),s=this.endIndex();s<e&&s++,t>0&&t--;for(let i=0;i<t;i++)this._hideBullets(this.dataItems[i]);for(let i=t;i<s;i++)this._positionBullets(this.dataItems[i]);for(let i=s;i<e;i++)this._hideBullets(this.dataItems[i])}}_positionBullets(e){e.bullets&&r(e.bullets,(e=>{this._positionBullet(e);const t=e.get("sprite");e.get("dynamic")&&(t&&(t._markDirtyKey("fill"),t.markDirtySize()),t instanceof i&&t.walkChildren((e=>{e._markDirtyKey("fill"),e.markDirtySize(),e instanceof f&&e.text.markDirtyText()}))),t instanceof f&&t.get("populateText")&&t.text.markDirtyText()}))}_hideBullets(e){e.bullets&&r(e.bullets,(e=>{let t=e.get("sprite");t&&t.setPrivate("visible",!1)}))}_positionBullet(e){}_placeBulletsContainer(e){e.bulletsContainer.children.moveValue(this.bulletsContainer)}_removeBulletsContainer(){const e=this.bulletsContainer;e.parent&&e.parent.children.removeValue(e)}disposeDataItem(e){const t=e.bullets;t&&r(t,(e=>{e.dispose()}))}_getItemReaderLabel(){return""}showDataItem(e,t){const i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return s(this,void 0,void 0,(function*(){const s=[i.showDataItem.call(this,e,t)],a=e.bullets;a&&r(a,(e=>{const i=e.get("sprite");i&&s.push(i.show(t))})),yield Promise.all(s)}))}hideDataItem(e,t){const i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return s(this,void 0,void 0,(function*(){const s=[i.hideDataItem.call(this,e,t)],a=e.bullets;a&&r(a,(e=>{const i=e.get("sprite");i&&s.push(i.hide(t))})),yield Promise.all(s)}))}_sequencedShowHide(e,t){return s(this,void 0,void 0,(function*(){if(this.get("sequencedInterpolation"))if(d(t)||(t=this.get("interpolationDuration",0)),t>0){const i=this.startIndex(),a=this.endIndex();yield Promise.all(g(this.dataItems,((l,r)=>s(this,void 0,void 0,(function*(){let s=t||0;(r<i-10||r>a+10)&&(s=0);let n=this.get("sequencedDelay",0)+s/(a-i);yield function(e){return new Promise(((t,s)=>{setTimeout(t,e)}))}(n*(r-i)),e?yield this.showDataItem(l,s):yield this.hideDataItem(l,s)})))))}else yield Promise.all(g(this.dataItems,(t=>e?this.showDataItem(t,0):this.hideDataItem(t,0))))}))}updateLegendValue(e){if(e){const t=e.get("legendDataItem");if(t){const s=t.get("valueLabel");if(s){const t=s.text;let i="";s._setDataItem(e),i=this.get("legendValueText",t.get("text","")),s.set("text",i),t.markDirtyText()}const i=t.get("label");if(i){const t=i.text;let s="";i._setDataItem(e),s=this.get("legendLabelText",t.get("text","")),i.set("text",s),t.markDirtyText()}}}}updateLegendMarker(e){}_onHide(){super._onHide();const e=this.getTooltip();e&&e.hide()}hoverDataItem(e){}unhoverDataItem(e){}_getBase(e){const t=this.dataItems[this.startIndex()];return t?t.get(e):0}}function D(e,t){for(let s=0,i=t.length;s<i;s++){const i=t[s];if(i.length>0){let t=i[0];if(t.length>0){let s=t[0];e.moveTo(s.x,s.y);for(let t=0,a=i.length;t<a;t++)x(e,i[t])}}}}function x(e,t){for(let s=0,i=t.length;s<i;s++){const i=t[s];e.lineTo(i.x,i.y)}}e("D",I),Object.defineProperty(I,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Series"}),Object.defineProperty(I,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:v.classNames.concat([I.className])});class C extends a{_beforeChanged(){super._beforeChanged(),(this.isDirty("points")||this.isDirty("segments")||this._sizeDirty||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){const e=this.get("points"),t=this.get("segments");if(e&&e.length>0){let t=e[0];this._display.moveTo(t.x,t.y),D(this._display,[[e]])}else if(t)D(this._display,t);else if(!this.get("draw")){let e=this.width(),t=this.height();this._display.moveTo(0,0),this._display.lineTo(e,t)}}}}Object.defineProperty(C,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Line"}),Object.defineProperty(C,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:a.classNames.concat([C.className])});const P=Math.PI,k=2*P,T=1e-6,M=k-T;function O(e){this._+=e[0];for(let t=1,s=e.length;t<s;++t)this._+=arguments[t]+e[t]}class ${constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?O:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return O;const s=10**t;return function(e){this._+=e[0];for(let t=1,i=e.length;t<i;++t)this._+=Math.round(arguments[t]*s)/s+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,s,i){this._append`Q${+e},${+t},${this._x1=+s},${this._y1=+i}`}bezierCurveTo(e,t,s,i,a,l){this._append`C${+e},${+t},${+s},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(e,t,s,i,a){if(e=+e,t=+t,s=+s,i=+i,(a=+a)<0)throw new Error(`negative radius: ${a}`);let l=this._x1,r=this._y1,n=s-e,o=i-t,h=l-e,u=r-t,d=h*h+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>T)if(Math.abs(u*n-o*h)>T&&a){let c=s-l,m=i-r,p=n*n+o*o,f=c*c+m*m,b=Math.sqrt(p),g=Math.sqrt(d),_=a*Math.tan((P-Math.acos((p+d-f)/(2*b*g)))/2),v=_/g,y=_/b;Math.abs(v-1)>T&&this._append`L${e+v*h},${t+v*u}`,this._append`A${a},${a},0,0,${+(u*c>h*m)},${this._x1=e+y*n},${this._y1=t+y*o}`}else this._append`L${this._x1=e},${this._y1=t}`}arc(e,t,s,i,a,l){if(e=+e,t=+t,l=!!l,(s=+s)<0)throw new Error(`negative radius: ${s}`);let r=s*Math.cos(i),n=s*Math.sin(i),o=e+r,h=t+n,u=1^l,d=l?i-a:a-i;null===this._x1?this._append`M${o},${h}`:(Math.abs(this._x1-o)>T||Math.abs(this._y1-h)>T)&&this._append`L${o},${h}`,s&&(d<0&&(d=d%k+k),d>M?this._append`A${s},${s},0,1,${u},${e-r},${t-n}A${s},${s},0,1,${u},${this._x1=o},${this._y1=h}`:d>T&&this._append`A${s},${s},0,${+(d>=P)},${u},${this._x1=e+s*Math.cos(a)},${this._y1=t+s*Math.sin(a)}`)}rect(e,t,s,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${s=+s}v${+i}h${-s}Z`}toString(){return this._}}class j extends i{constructor(){super(...arguments),Object.defineProperty(this,"chartContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(i.new(this._root,{width:h,height:h,interactiveChildren:!1}))}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:i.new(this._root,{interactiveChildren:!1,isMeasured:!1,position:"absolute",width:h,height:h})})}}Object.defineProperty(j,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Chart"}),Object.defineProperty(j,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:i.classNames.concat([j.className])});class S extends j{constructor(){super(...arguments),Object.defineProperty(this,"seriesContainer",{enumerable:!0,configurable:!0,writable:!0,value:i.new(this._root,{width:h,height:h,isMeasured:!1})}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:new b})}_afterNew(){super._afterNew(),this._disposers.push(this.series);const e=this.seriesContainer.children;this._disposers.push(this.series.events.onAll((t=>{if("clear"===t.type){r(t.oldValues,(e=>{this._removeSeries(e)}));const e=this.get("colors");e&&e.reset()}else if("push"===t.type)e.moveValue(t.newValue),this._processSeries(t.newValue);else if("setIndex"===t.type)e.setIndex(t.index,t.newValue),this._processSeries(t.newValue);else if("insertIndex"===t.type)e.insertIndex(t.index,t.newValue),this._processSeries(t.newValue);else if("removeIndex"===t.type)this._removeSeries(t.oldValue);else{if("moveIndex"!==t.type)throw new Error("Unknown IListEvent type");e.moveValue(t.value,t.newIndex),this._processSeries(t.value)}})))}_processSeries(e){e.chart=this,e._placeBulletsContainer(this)}_removeSeries(e){e.isDisposed()||(this.seriesContainer.children.removeValue(e),e._removeBulletsContainer())}}e("R",S),Object.defineProperty(S,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SerialChart"}),Object.defineProperty(S,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:j.classNames.concat([S.className])});class V extends C{}e("U",V),Object.defineProperty(V,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tick"}),Object.defineProperty(V,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:C.classNames.concat([V.className])})}}}));
