System.register(["./index-legacy.js"],(function(e,l){"use strict";var n,t;return{setters:[e=>{n=e.a$,t=e.b0}],execute:function(){e({n:async function(e,l=e.popupTemplate){if(null==l)return[];const u=await l.getRequiredFields(e.fieldsIndex),{lastEditInfoEnabled:s}=l,{objectIdField:d,typeIdField:i,globalIdField:p,relationships:a}=e;if(u.includes("*"))return["*"];const o=s?n(e):[],r=t(e.fieldsIndex,[...u,...o]);return i&&r.push(i),r&&d&&e.fieldsIndex?.has(d)&&!r.includes(d)&&r.push(d),r&&p&&e.fieldsIndex?.has(p)&&!r.includes(p)&&r.push(p),a&&a.forEach((l=>{const{keyField:n}=l;r&&n&&e.fieldsIndex?.has(n)&&!r.includes(n)&&r.push(n)})),r},p:function(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}})}}}));
