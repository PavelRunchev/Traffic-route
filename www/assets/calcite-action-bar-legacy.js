System.register(["./index-legacy.js","./conditionalSlot-legacy.js","./dom-legacy.js","./loadable-legacy.js","./t9n-legacy.js","./observers-legacy.js","./action-group-legacy.js","./action-menu-legacy.js","./action-legacy.js","./icon-legacy.js","./loader-legacy.js","./debounce-legacy.js","./guid-legacy.js","./FloatingArrow-legacy.js","./focusTrapComponent-legacy.js","./openCloseComponent-legacy.js","./component-legacy.js","./interactive-legacy.js"],(function(e,t){"use strict";var o,i,a,n,s,l,c,r,d,h,u,g,p,f,m,v,b,x,y,A,E,w,C,H,z,S,D,j,L,O,T;return{setters:[e=>{o=e.h,i=e.aK,a=e.c,n=e.H,s=e.e,l=e.g},e=>{c=e.c,r=e.d},e=>{d=e.b,h=e.r,u=e.d,g=e.o},e=>{p=e.a,f=e.s,m=e.c},e=>{v=e.u,b=e.c,x=e.a,y=e.s,A=e.d,E=e.b},e=>{w=e.c},e=>{C=e.S,H=e.d},e=>{z=e.S,S=e.d,D=e.a},e=>{j=e.d},e=>{L=e.d},e=>{O=e.d},e=>{T=e.d},null,null,null,null,null,null],execute:function(){
/*!
             * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
             * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
             * v2.6.0
             */
const t=e=>e.reduce(((e,t)=>e+t),0)/e.length,k=({layout:e,actionCount:t,actionWidth:o,width:i,actionHeight:a,height:n,groupCount:s})=>Math.max(t-(({width:e,actionWidth:t,layout:o,height:i,actionHeight:a,groupCount:n})=>{const s="horizontal"===o?e:i,l="horizontal"===o?t:a;return Math.floor((s-2*n)/l)})({width:i,actionWidth:o,layout:e,height:n,actionHeight:a,groupCount:s}),0),B=e=>Array.from(e.querySelectorAll("calcite-action")).filter((e=>!e.closest("calcite-action-menu")||e.slot===z.trigger)),G="chevrons-left",M="chevrons-right";function W({el:e,expanded:t}){B(e).filter((e=>e.slot!==C.menuActions)).forEach((e=>e.textEnabled=t)),e.querySelectorAll("calcite-action-group, calcite-action-menu").forEach((e=>e.expanded=t))}const q=({expanded:e,expandText:t,collapseText:i,toggle:a,el:n,position:s,tooltip:l,ref:c,scale:r})=>{const h="rtl"===d(n),u=e?i:t,g=[G,M];h&&g.reverse();const p="end"===function(e,t){return e||t.closest("calcite-shell-panel")?.position||"start"}(s,n),f=p?g[1]:g[0],m=p?g[0]:g[1],v=o("calcite-action",{icon:e?f:m,onClick:a,scale:r,text:u,textEnabled:e,title:e||l?null:u,ref:t=>(({tooltip:e,referenceElement:t,expanded:o,ref:i})=>(e&&(e.referenceElement=!o&&t?t:null),i&&i(t),t))({tooltip:l,referenceElement:t,expanded:e,ref:c})});return v},P="action-group--end",_="actions-end",F="bottom-actions",R="expand-tooltip",K=a(class extends n{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteActionBarToggle=s(this,"calciteActionBarToggle",6),this.mutationObserver=w("mutation",(()=>{const{el:e,expanded:t}=this;W({el:e,expanded:t}),this.overflowActions()})),this.resizeObserver=w("resize",(e=>this.resizeHandlerEntries(e))),this.actionMenuOpenHandler=e=>{if(e.target.menuOpen){const t=e.composedPath();Array.from(this.el.querySelectorAll("calcite-action-group")).forEach((e=>{t.includes(e)||(e.menuOpen=!1)}))}},this.resizeHandlerEntries=e=>{e.forEach(this.resizeHandler)},this.resizeHandler=e=>{const{width:t,height:o}=e.contentRect;this.resize({width:t,height:o})},this.resize=T((({width:e,height:o})=>{const{el:a,expanded:n,expandDisabled:s,layout:l,overflowActionsDisabled:c}=this;if(c||"vertical"===l&&!o||"horizontal"===l&&!e)return;const r=B(a),d=s?r.length:r.length+1,h=Array.from(a.querySelectorAll("calcite-action-group"));this.setGroupLayout(h);const u=this.hasActionsEnd||this.hasBottomActions||!s?h.length+1:h.length,{actionHeight:g,actionWidth:p}=(e=>{const o=e.filter((e=>e.slot!==C.menuActions)),i=o?.length;return{actionWidth:i?t(o.map((e=>e.clientWidth||0))):0,actionHeight:i?t(o.map((e=>e.clientHeight||0))):0}})(r);(({actionGroups:e,expanded:t,overflowCount:o})=>{let a=o;e.reverse().forEach((e=>{let o=0;const n=B(e).reverse();n.forEach((e=>{e.slot===C.menuActions&&(e.removeAttribute("slot"),e.textEnabled=t)})),a>0&&n.some((e=>(n.filter((e=>!e.slot)).length>1&&n.length>2&&!e.closest("calcite-action-menu")&&(e.textEnabled=!0,e.setAttribute("slot",C.menuActions),o++,o>1&&a--),a<1))),i(e)}))})({actionGroups:h,expanded:n,overflowCount:k({layout:l,actionCount:d,actionHeight:g,actionWidth:p,height:o,width:e,groupCount:u})})}),150),this.toggleExpand=()=>{this.expanded=!this.expanded,this.calciteActionBarToggle.emit()},this.setExpandToggleRef=e=>{this.expandToggleEl=e},this.handleDefaultSlotChange=e=>{const t=h(e).filter((e=>e.matches("calcite-action-group")));this.setGroupLayout(t)},this.handleActionsEndSlotChange=e=>{this.hasActionsEnd=u(e)},this.handleBottomActionsSlotChange=e=>{this.hasBottomActions=u(e)},this.handleTooltipSlotChange=e=>{const t=h(e).filter((e=>e?.matches("calcite-tooltip")));this.expandTooltip=t[0]},this.actionsEndGroupLabel=void 0,this.expandDisabled=!1,this.expanded=!1,this.layout="vertical",this.overflowActionsDisabled=!1,this.overlayPositioning="absolute",this.position=void 0,this.scale=void 0,this.messages=void 0,this.messageOverrides=void 0,this.effectiveLocale=void 0,this.hasActionsEnd=!1,this.hasBottomActions=!1,this.expandTooltip=void 0,this.defaultMessages=void 0}expandHandler(){this.overflowActions()}expandedHandler(){const{el:e,expanded:t}=this;W({el:e,expanded:t}),this.overflowActions()}layoutHandler(){this.updateGroups()}overflowDisabledHandler(e){e?this.resizeObserver?.disconnect():(this.resizeObserver?.observe(this.el),this.overflowActions())}onMessagesChange(){}effectiveLocaleChange(){v(this,this.effectiveLocale)}componentDidLoad(){const{el:e,expanded:t}=this;p(this),W({el:e,expanded:t}),this.overflowActions()}connectedCallback(){const{el:e,expanded:t}=this;b(this),x(this),W({el:e,expanded:t}),this.mutationObserver?.observe(e,{childList:!0,subtree:!0}),this.overflowActionsDisabled||this.resizeObserver?.observe(e),this.overflowActions(),c(this)}async componentWillLoad(){f(this),await y(this)}disconnectedCallback(){this.mutationObserver?.disconnect(),this.resizeObserver?.disconnect(),r(this),A(this),E(this)}async overflowActions(){this.resize({width:this.el.clientWidth,height:this.el.clientHeight})}async setFocus(){await m(this),g(this.el)}updateGroups(){this.setGroupLayout(Array.from(this.el.querySelectorAll("calcite-action-group")))}setGroupLayout(e){e.forEach((e=>e.layout=this.layout))}renderBottomActionGroup(){const{expanded:e,expandDisabled:t,el:i,position:a,toggleExpand:n,scale:s,layout:l,messages:c,actionsEndGroupLabel:r,overlayPositioning:d}=this,h=t?null:o(q,{collapseText:c.collapse,el:i,expandText:c.expand,expanded:e,position:a,scale:s,toggle:n,tooltip:this.expandTooltip,ref:this.setExpandToggleRef});return o("calcite-action-group",{class:P,hidden:this.expandDisabled&&!(this.hasActionsEnd||this.hasBottomActions),label:r,layout:l,overlayPositioning:d,scale:s},o("slot",{name:_,onSlotchange:this.handleActionsEndSlotChange}),o("slot",{name:F,onSlotchange:this.handleBottomActionsSlotChange}),o("slot",{name:R,onSlotchange:this.handleTooltipSlotChange}),h)}render(){return o(l,{onCalciteActionMenuOpen:this.actionMenuOpenHandler},o("slot",{onSlotchange:this.handleDefaultSlotChange}),this.renderBottomActionGroup())}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{expandDisabled:["expandHandler"],expanded:["expandedHandler"],layout:["layoutHandler"],overflowActionsDisabled:["overflowDisabledHandler"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return":host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host{pointer-events:auto;display:inline-flex;align-self:stretch;--calcite-action-bar-expanded-max-width:auto}:host([layout=vertical]){flex-direction:column}:host([layout=vertical]) .action-group--end{margin-block-start:auto}:host([layout=horizontal]){flex-direction:row}:host([layout=horizontal]) .action-group--end{margin-inline-start:auto}:host([layout=vertical][overflow-actions-disabled]){overflow-y:auto}:host([layout=horizontal][overflow-actions-disabled]){overflow-x:auto}:host([layout=vertical][expanded]){max-inline-size:var(--calcite-action-bar-expanded-max-width)}::slotted(calcite-action-group){border-block-end:1px solid var(--calcite-color-border-3)}:host([layout=horizontal]) ::slotted(calcite-action-group){border-block-end:0;border-inline-end:1px solid var(--calcite-color-border-3)}:host([layout=horizontal][expand-disabled]) ::slotted(calcite-action-group:last-of-type){border-inline-end:0}::slotted(calcite-action-group:last-child){border-block-end:0;border-inline-end:0}.action-group--end{justify-content:flex-end}:host([hidden]){display:none}[hidden]{display:none}"}},[1,"calcite-action-bar",{actionsEndGroupLabel:[1,"actions-end-group-label"],expandDisabled:[516,"expand-disabled"],expanded:[1540],layout:[513],overflowActionsDisabled:[516,"overflow-actions-disabled"],overlayPositioning:[513,"overlay-positioning"],position:[513],scale:[513],messages:[1040],messageOverrides:[1040],effectiveLocale:[32],hasActionsEnd:[32],hasBottomActions:[32],expandTooltip:[32],defaultMessages:[32],overflowActions:[64],setFocus:[64]},void 0,{expandDisabled:["expandHandler"],expanded:["expandedHandler"],layout:["layoutHandler"],overflowActionsDisabled:["overflowDisabledHandler"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}]);function I(){"undefined"!=typeof customElements&&["calcite-action-bar","calcite-action","calcite-action-group","calcite-action-menu","calcite-icon","calcite-loader","calcite-popover"].forEach((e=>{switch(e){case"calcite-action-bar":customElements.get(e)||customElements.define(e,K);break;case"calcite-action":customElements.get(e)||j();break;case"calcite-action-group":customElements.get(e)||H();break;case"calcite-action-menu":customElements.get(e)||D();break;case"calcite-icon":customElements.get(e)||L();break;case"calcite-loader":customElements.get(e)||O();break;case"calcite-popover":customElements.get(e)||S()}}))}I(),e("CalciteActionBar",K),e("defineCustomElement",I)}}}));
