System.register(["./index-legacy.js","./featureConversionUtils-legacy.js","./OptimizedGeometry-legacy.js","./timeSupport-legacy.js"],(function(t,n){"use strict";var e,o,r,c,s,u,i,a;return{setters:[t=>{e=t.aN,o=t.aQ,r=t.bc,c=t.cL,s=t.cM},t=>{u=t.K},t=>{i=t.e},t=>{a=t.j}],execute:function(){t({A:m,R:function(t,n){let e=-90,o=90,r=-180,c=180;for(let s=0;s<n;s++){const n=Math.ceil((s+1)/2),u=Math.floor((s+1)/2),i=1-s%2,a=30-(3*n+2*u),f=30-(2*n+3*u),l=3*i+2*(1-i),h=2*i+3*(1-i),m=3*i+7*(1-i)<<f,x=(7*i+3*(1-i)<<a&t.geohashX)>>a,y=(m&t.geohashY)>>f;for(let t=l-1;t>=0;t--){const n=(r+c)/2,e=x&1<<t?1:0;r=(1-e)*r+e*n,c=(1-e)*n+e*c}for(let t=h-1;t>=0;t--){const n=(e+o)/2,r=y&1<<t?1:0;e=(1-r)*e+r*n,o=(1-r)*n+r*o}}return[r,e,c,o]},S:function(t,n,c,s){const f=[t.xmin,t.ymin,t.xmax,t.ymax],l=e.fromExtent(o.fromBounds(f,s)),x=a(l,s,r.WGS84,{densificationStep:n*h});if(!x)return null;const y=u(new i,x,!1,!1),M=y.coords.filter(((t,n)=>!(n%2))),d=y.coords.filter(((t,n)=>n%2)),g=Math.min(...M),S=Math.min(...d),j=Math.max(...M),p=Math.max(...d),G=m(g,S,c,r.WGS84),L=m(j,p,c,r.WGS84);return G&&L?{bounds:f,geohashBounds:{xLL:G[0],yLL:G[1],xTR:L[0],yTR:L[1]},level:c}:null},z:function(t,e,o){let r="";const c=M(n,-90,90),s=M(f,-180,180);for(let n=0;n<o;n++){let o=0;n%2?(o|=d(c,t)<<4,o|=d(s,e)<<3,o|=d(c,t)<<2,o|=d(s,e)<<1,o|=0|d(c,t)):(o|=d(s,e)<<4,o|=d(c,t)<<3,o|=d(s,e)<<2,o|=d(c,t)<<1,o|=0|d(s,e)),r+=x(o)}return r}});const n=new Float64Array(2),f=new Float64Array(2),l="0123456789bcdefghjkmnpqrstuvwxyz",h=64;function m(t,n,e,o){if(o.isWebMercator){const o=c(t/s.radius),r=o-360*Math.floor((o+180)/360),u=[0,0];return g(u,0,c(Math.PI/2-2*Math.atan(Math.exp(-n/s.radius))),r,e),u}const u=a({x:t,y:n},o,r.WGS84);if(!u)return null;const i=[0,0];return g(i,0,u.y,u.x,e),i}function x(t){return l[t]}function y(t){return(t[0]+t[1])/2}function M(t,n,e){return t[0]=n,t[1]=e,t}function d(t,n){const e=n>y(t);return function(t,n){const e=y(t),o=n,r=!n;t[0]=r*t[0]+o*e,t[1]=r*e+o*t[1]}(t,e),e}function g(t,n,e,o,r){r%2&&(r+=1);let c=0,s=0,u=-90,i=90,a=-180,f=180;for(let l=0;l<r/2;l++){for(let t=0;t<5;t++){const n=(a+f)/2,e=o>n?1:0;c|=e<<29-(t+5*l),a=(1-e)*a+e*n,f=(1-e)*n+e*f}for(let t=0;t<5;t++){const n=(u+i)/2,o=e>n?1:0;s|=o<<29-(t+5*l),u=(1-o)*u+o*n,i=(1-o)*n+o*i}}t[2*n]=c,t[2*n+1]=s}}}}));
