System.register(["./index-legacy.js","./Indices-legacy.js"],(function(t,e){"use strict";var n,r,l;return{setters:[t=>{n=t.ca},t=>{r=t.i,l=t.t}],execute:function(){function e(t,e,n,r){for(let l=0;l<r;l++)if(t[e+l]!==t[n+l])return!1;return!0}function i(t,e,n,r,l){for(let i=0;i<l;i++)n[r+i]=t[e+i]}function f(t,e,n){let r=0;for(let l=0;l<n;l++)r=t[e+l]+r|0,r=r+(r<<11)+(r>>>2)|0;return r>>>0}t("e",(function(t,c,s){const u=Array.isArray(t),a=u?t.length/c:t.byteLength/(4*c),y=u?t:new Uint32Array(t,0,a*c),g=s?.minReduction??0,h=s?.originalIndices||null,A=h?h.length:0,w=s?.componentOffsets||null;let d=0;if(w)for(let e=0;e<w.length-1;e++){const t=w[e+1]-w[e];t>d&&(d=t)}else d=a;const U=Math.floor(1.1*d)+1;(null==o||o.length<2*U)&&(o=new Uint32Array(n(2*U)));for(let e=0;e<2*U;e++)o[e]=0;let b=0;const m=!!w&&!!h,M=m?A:a;let j=r(a);const q=new Uint32Array(A),x=1.96;let I=0!==g?Math.ceil(4*x*x/(g*g)*g*(1-g)):M,k=1,p=w?w[1]:M;for(let n=0;n<M;n++){if(n===I){const t=1-b/n;if(t+x*Math.sqrt(t*(1-t)/n)<g)return null;I*=2}if(n===p){for(let t=0;t<2*U;t++)o[t]=0;if(h)for(let t=w[k-1];t<w[k];t++)q[t]=j[h[t]];p=w[++k]}const t=m?h[n]:n,r=t*c,l=f(y,r,c);let i=l%U,s=b;for(;0!==o[2*i+1];){if(o[2*i]===l){const t=o[2*i+1]-1;if(e(y,r,t*c,c)){s=j[t];break}}i++,i>=U&&(i-=U)}s===b&&(o[2*i]=l,o[2*i+1]=t+1,b++),j[t]=s}if(0!==g&&1-b/a<g)return null;if(m){for(let t=w[k-1];t<q.length;t++)q[t]=j[h[t]];j=l(q)}const v=u?new Array(b):new Uint32Array(b*c);b=0;for(let e=0;e<M;e++)j[e]===b&&(i(y,(m?h[e]:e)*c,v,b*c,c),b++);if(h&&!m){const t=new Uint32Array(A);for(let e=0;e<t.length;e++)t[e]=j[h[e]];j=l(t)}return{buffer:Array.isArray(v)?v:v.buffer,indices:j,uniqueCount:b}}));let o=null}}}));
