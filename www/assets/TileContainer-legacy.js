System.register(["./index-legacy.js","./Container-legacy.js","./WGLContainer-legacy.js"],(function(e,r){"use strict";var s,t,n,i,l;return{setters:[e=>{s=e.ai},e=>{t=e.E},e=>{n=e.n,i=e._,l=e.y}],execute:function(){const r=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;e("i",class extends n{constructor(e){super(),this._tileInfoView=e}renderChildren(e){this.sortChildren(r),this.setStencilReference(e),super.renderChildren(e)}createRenderParams(e){const{state:r}=e,s=super.createRenderParams(e);return s.requiredLevel=this._tileInfoView.getClosestInfoForScale(r.scale).level,s.displayLevel=this._tileInfoView.tileInfo.scaleToZoom(r.scale),s}prepareRenderPasses(e){const r=super.prepareRenderPasses(e);return r.push(e.registerRenderPass({name:"stencil",brushes:[i],drawPhase:t.DEBUG|t.MAP|t.HIGHLIGHT|t.LABEL,target:()=>this.getStencilTarget()})),s("esri-tiles-debug")&&r.push(e.registerRenderPass({name:"tileInfo",brushes:[l],drawPhase:t.DEBUG,target:()=>this.children})),r}getStencilTarget(){return this.children}setStencilReference(e){let r=1;for(const s of this.children)s.stencilRef=r++}})}}}));
